// li选中样式
// technology-type

// var chooseServiceList = document.querySelector("ul").getElementsByTagName("li")

// for(var i=0; i<chooseServiceList.length;i++){
//   chooseServiceList[i].onclick = function(){
//     if(this.className == ""){
//       this.className = "active";
//     }else{
//       this.className = "";
//     }
//   }
// }

function chooseList(prefix){
  var token = localStorage.getItem("wxAuthToken");
  if(token == null){
    return;
  }

  var xmlhttp = new XMLHttpRequest;
  xmlhttp.open("GET", prefix+"/rest/technology-type/", true);
  xmlhttp.setRequestHeader("Authorization", token);
  xmlhttp.send();
  xmlhttp.onreadystatechange = function(){
    if(xmlhttp.readyState == 4){
      if(xmlhttp.status == 200){
        var data = JSON.parse(xmlhttp.responseText);
        if(data.code !=0){
          alert(data.msg);
          return;
        }

        // 门类选择
        var chooseUl = document.querySelector("ul");
        console.log(data);
        chooseUl.innerHTML = "";
        for(var i=0;i<data.types.length;i++){
          chooseUl.innerHTML += '<li>'+
          '<img src="img/'+data.types[i].type.toLowerCase()+'.svg" alt="'+data.types[i].type+'">'+
          '<h2>'+data.types[i].type+'</h2>'+
          '<em>'+
            '<svg viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">'+
              '<path d="M953.66144 400.85504c-7.21408-23.89504-28.41088-42.38336-62.67904-54.55872-0.45056 0-0.90112-0.45056-1.35168-0.45056l-136.62208-36.97664c-32.02048-8.56576-59.52-28.85632-78.00832-56.36096-31.10912-47.7952-62.21824-94.68928-93.33248-142.03392 0 0-0.45568-0.90112-0.90624-0.90112-19.38432-27.05408-43.73504-42.38336-68.08064-42.38336-17.5872 0-43.73504 7.66464-67.18464 44.64128L368.83968 236.7232c-17.13152 27.9552-44.1856 49.14688-76.20096 58.61376-30.208 9.02144-59.97056 18.48832-90.17856 27.50976l-68.08576 20.74112c-31.5648 10.368-51.85536 26.60352-59.52 49.14688-8.1152 23.4496-2.70336 51.4048 17.5872 84.32128 0.45056 0.90112 0.90112 1.80736 1.80736 2.2528 30.208 38.77888 60.87168 77.1072 91.53024 115.88096 19.84 24.80128 30.208 56.36608 29.30688 87.93088-1.80224 57.70752-3.15392 115.88096-4.96128 173.5936-3.15392 35.62496 1.80736 60.8768 15.78496 76.65664 10.368 12.17024 24.80128 18.03264 42.83392 18.03264 13.9776 0 30.208-3.60448 52.30592-11.7248l130.30912-53.20704c31.5648-12.62592 66.7392-13.52704 98.29888-1.3568 51.39968 18.93888 102.80448 38.32832 154.65984 57.71776 13.53216 4.51072 25.7024 6.30784 36.97664 6.30784 25.25184 0 68.08576-11.71968 71.69536-89.728v-1.80224c-2.25792-40.58624-5.86752-105.51296-8.57088-150.6048-1.80224-31.5648 7.66464-63.12448 26.5984-88.37632l102.8096-137.97888c19.83488-29.29664 26.59328-56.35072 19.83488-79.7952zM316.53376 325.55008c31.5648-9.472 58.61888-30.66368 76.20096-58.61888L316.53376 325.55008z"></path>'+
            '</svg>'+
            '<svg viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">'+
              '<path d="M953.66144 400.85504c-7.21408-23.89504-28.41088-42.38336-62.67904-54.55872-0.45056 0-0.90112-0.45056-1.35168-0.45056l-136.62208-36.97664c-32.02048-8.56576-59.52-28.85632-78.00832-56.36096-31.10912-47.7952-62.21824-94.68928-93.33248-142.03392 0 0-0.45568-0.90112-0.90624-0.90112-19.38432-27.05408-43.73504-42.38336-68.08064-42.38336-17.5872 0-43.73504 7.66464-67.18464 44.64128L368.83968 236.7232c-17.13152 27.9552-44.1856 49.14688-76.20096 58.61376-30.208 9.02144-59.97056 18.48832-90.17856 27.50976l-68.08576 20.74112c-31.5648 10.368-51.85536 26.60352-59.52 49.14688-8.1152 23.4496-2.70336 51.4048 17.5872 84.32128 0.45056 0.90112 0.90112 1.80736 1.80736 2.2528 30.208 38.77888 60.87168 77.1072 91.53024 115.88096 19.84 24.80128 30.208 56.36608 29.30688 87.93088-1.80224 57.70752-3.15392 115.88096-4.96128 173.5936-3.15392 35.62496 1.80736 60.8768 15.78496 76.65664 10.368 12.17024 24.80128 18.03264 42.83392 18.03264 13.9776 0 30.208-3.60448 52.30592-11.7248l130.30912-53.20704c31.5648-12.62592 66.7392-13.52704 98.29888-1.3568 51.39968 18.93888 102.80448 38.32832 154.65984 57.71776 13.53216 4.51072 25.7024 6.30784 36.97664 6.30784 25.25184 0 68.08576-11.71968 71.69536-89.728v-1.80224c-2.25792-40.58624-5.86752-105.51296-8.57088-150.6048-1.80224-31.5648 7.66464-63.12448 26.5984-88.37632l102.8096-137.97888c19.83488-29.29664 26.59328-56.35072 19.83488-79.7952zM316.53376 325.55008c31.5648-9.472 58.61888-30.66368 76.20096-58.61888L316.53376 325.55008z"></path>'+
            '</svg>'+
            '<svg viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">'+
              '<path d="M953.66144 400.85504c-7.21408-23.89504-28.41088-42.38336-62.67904-54.55872-0.45056 0-0.90112-0.45056-1.35168-0.45056l-136.62208-36.97664c-32.02048-8.56576-59.52-28.85632-78.00832-56.36096-31.10912-47.7952-62.21824-94.68928-93.33248-142.03392 0 0-0.45568-0.90112-0.90624-0.90112-19.38432-27.05408-43.73504-42.38336-68.08064-42.38336-17.5872 0-43.73504 7.66464-67.18464 44.64128L368.83968 236.7232c-17.13152 27.9552-44.1856 49.14688-76.20096 58.61376-30.208 9.02144-59.97056 18.48832-90.17856 27.50976l-68.08576 20.74112c-31.5648 10.368-51.85536 26.60352-59.52 49.14688-8.1152 23.4496-2.70336 51.4048 17.5872 84.32128 0.45056 0.90112 0.90112 1.80736 1.80736 2.2528 30.208 38.77888 60.87168 77.1072 91.53024 115.88096 19.84 24.80128 30.208 56.36608 29.30688 87.93088-1.80224 57.70752-3.15392 115.88096-4.96128 173.5936-3.15392 35.62496 1.80736 60.8768 15.78496 76.65664 10.368 12.17024 24.80128 18.03264 42.83392 18.03264 13.9776 0 30.208-3.60448 52.30592-11.7248l130.30912-53.20704c31.5648-12.62592 66.7392-13.52704 98.29888-1.3568 51.39968 18.93888 102.80448 38.32832 154.65984 57.71776 13.53216 4.51072 25.7024 6.30784 36.97664 6.30784 25.25184 0 68.08576-11.71968 71.69536-89.728v-1.80224c-2.25792-40.58624-5.86752-105.51296-8.57088-150.6048-1.80224-31.5648 7.66464-63.12448 26.5984-88.37632l102.8096-137.97888c19.83488-29.29664 26.59328-56.35072 19.83488-79.7952zM316.53376 325.55008c31.5648-9.472 58.61888-30.66368 76.20096-58.61888L316.53376 325.55008z"></path>'+
            '</svg>'+
            '<svg viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">'+
              '<path d="M953.66144 400.85504c-7.21408-23.89504-28.41088-42.38336-62.67904-54.55872-0.45056 0-0.90112-0.45056-1.35168-0.45056l-136.62208-36.97664c-32.02048-8.56576-59.52-28.85632-78.00832-56.36096-31.10912-47.7952-62.21824-94.68928-93.33248-142.03392 0 0-0.45568-0.90112-0.90624-0.90112-19.38432-27.05408-43.73504-42.38336-68.08064-42.38336-17.5872 0-43.73504 7.66464-67.18464 44.64128L368.83968 236.7232c-17.13152 27.9552-44.1856 49.14688-76.20096 58.61376-30.208 9.02144-59.97056 18.48832-90.17856 27.50976l-68.08576 20.74112c-31.5648 10.368-51.85536 26.60352-59.52 49.14688-8.1152 23.4496-2.70336 51.4048 17.5872 84.32128 0.45056 0.90112 0.90112 1.80736 1.80736 2.2528 30.208 38.77888 60.87168 77.1072 91.53024 115.88096 19.84 24.80128 30.208 56.36608 29.30688 87.93088-1.80224 57.70752-3.15392 115.88096-4.96128 173.5936-3.15392 35.62496 1.80736 60.8768 15.78496 76.65664 10.368 12.17024 24.80128 18.03264 42.83392 18.03264 13.9776 0 30.208-3.60448 52.30592-11.7248l130.30912-53.20704c31.5648-12.62592 66.7392-13.52704 98.29888-1.3568 51.39968 18.93888 102.80448 38.32832 154.65984 57.71776 13.53216 4.51072 25.7024 6.30784 36.97664 6.30784 25.25184 0 68.08576-11.71968 71.69536-89.728v-1.80224c-2.25792-40.58624-5.86752-105.51296-8.57088-150.6048-1.80224-31.5648 7.66464-63.12448 26.5984-88.37632l102.8096-137.97888c19.83488-29.29664 26.59328-56.35072 19.83488-79.7952zM316.53376 325.55008c31.5648-9.472 58.61888-30.66368 76.20096-58.61888L316.53376 325.55008z"></path>'+
            '</svg>'+
            '<svg viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">'+
              '<path d="M953.66144 400.85504c-7.21408-23.89504-28.41088-42.38336-62.67904-54.55872-0.45056 0-0.90112-0.45056-1.35168-0.45056l-136.62208-36.97664c-32.02048-8.56576-59.52-28.85632-78.00832-56.36096-31.10912-47.7952-62.21824-94.68928-93.33248-142.03392 0 0-0.45568-0.90112-0.90624-0.90112-19.38432-27.05408-43.73504-42.38336-68.08064-42.38336-17.5872 0-43.73504 7.66464-67.18464 44.64128L368.83968 236.7232c-17.13152 27.9552-44.1856 49.14688-76.20096 58.61376-30.208 9.02144-59.97056 18.48832-90.17856 27.50976l-68.08576 20.74112c-31.5648 10.368-51.85536 26.60352-59.52 49.14688-8.1152 23.4496-2.70336 51.4048 17.5872 84.32128 0.45056 0.90112 0.90112 1.80736 1.80736 2.2528 30.208 38.77888 60.87168 77.1072 91.53024 115.88096 19.84 24.80128 30.208 56.36608 29.30688 87.93088-1.80224 57.70752-3.15392 115.88096-4.96128 173.5936-3.15392 35.62496 1.80736 60.8768 15.78496 76.65664 10.368 12.17024 24.80128 18.03264 42.83392 18.03264 13.9776 0 30.208-3.60448 52.30592-11.7248l130.30912-53.20704c31.5648-12.62592 66.7392-13.52704 98.29888-1.3568 51.39968 18.93888 102.80448 38.32832 154.65984 57.71776 13.53216 4.51072 25.7024 6.30784 36.97664 6.30784 25.25184 0 68.08576-11.71968 71.69536-89.728v-1.80224c-2.25792-40.58624-5.86752-105.51296-8.57088-150.6048-1.80224-31.5648 7.66464-63.12448 26.5984-88.37632l102.8096-137.97888c19.83488-29.29664 26.59328-56.35072 19.83488-79.7952zM316.53376 325.55008c31.5648-9.472 58.61888-30.66368 76.20096-58.61888L316.53376 325.55008z"></path>'+
            '</svg>'+
          '</em>'+
          '<img src="img/tick.svg" alt="tick">'+
        '</li>'
        }

      }else if(xmlhttp.status == 401){
        _wxlogin(prefix);
      }
    }
  }
}

var prefix = "http://t1.zhiliaokeji.com";
wxlogin(chooseList, prefix, prefix);